<!-- Edit Validity Modal -->
<div id="edit-validity-modal" class="hs-overlay hidden w-full h-full fixed top-0 left-0 z-[60] overflow-x-hidden overflow-y-auto">
    <div class="hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-300 mt-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center">
        <div class="flex flex-col bg-white border shadow-sm rounded-xl p-6 w-full">
            <!-- Header -->
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold text-neutral-800">
                    Edit Validity &mdash; <span id="evm-course-id"></span>
                </h3>
                <button type="button" class="flex justify-center items-center w-7 h-7 rounded-full text-neutral-500 hover:bg-neutral-100 focus:outline-none" data-hs-overlay="#edit-validity-modal">
                    <span class="sr-only">Close</span>
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
            </div>

            <!-- Hidden Inputs -->
            <input type="hidden" id="evm-plan-id">
            <input type="hidden" id="evm-req-id">
            <input type="hidden" id="evm-identifier">
            <input type="hidden" id="evm-is-wildcard" value="false">

            <!-- Validity Type -->
            <div class="mb-4">
                <label class="form-label mb-2">Validity Type</label>
                <div class="space-y-2">
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="evm-validity-type" value="ALWAYS" checked class="w-4 h-4 text-primary focus:ring-primary">
                        <span class="text-sm text-neutral-700">Always Valid</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="evm-validity-type" value="TERMS" class="w-4 h-4 text-primary focus:ring-primary">
                        <span class="text-sm text-neutral-700">Valid only in selected terms</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="evm-validity-type" value="DATE_RANGE" class="w-4 h-4 text-primary focus:ring-primary">
                        <span class="text-sm text-neutral-700">Valid within date range</span>
                    </label>
                </div>
            </div>

            <!-- Terms Selection (hidden by default) -->
            <div id="evm-terms-container" class="hidden mb-4">
                <label class="form-label mb-2">Select Valid Terms</label>
                <div class="space-y-2">
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="evm-terms" value="Fall 2025" class="w-4 h-4 text-primary focus:ring-primary">
                        <span class="text-sm text-neutral-700">Fall 2025</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="evm-terms" value="Fall 2024" class="w-4 h-4 text-primary focus:ring-primary">
                        <span class="text-sm text-neutral-700">Fall 2024</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="evm-terms" value="Spring 2024" class="w-4 h-4 text-primary focus:ring-primary">
                        <span class="text-sm text-neutral-700">Spring 2024</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="evm-terms" value="Spring 2023" class="w-4 h-4 text-primary focus:ring-primary">
                        <span class="text-sm text-neutral-700">Spring 2023</span>
                    </label>
                </div>
            </div>

            <!-- Date Range (hidden by default) -->
            <div id="evm-date-container" class="hidden mb-4 space-y-3">
                <div>
                    <label class="form-label mb-1">Valid From</label>
                    <input type="date" id="evm-date-from"
                        class="form-control">>
                </div>
                <div>
                    <label class="form-label mb-1">Valid To</label>
                    <input type="date" id="evm-date-to"
                        class="form-control">>
                </div>
            </div>

            <!-- Include Equivalent Courses -->
            <div class="mb-4">
                <label class="flex items-center gap-2 cursor-pointer">
                    <input type="checkbox" id="evm-include-equivalent" class="w-4 h-4 text-primary focus:ring-primary">
                    <span class="text-sm text-neutral-700">Include Equivalent Courses</span>
                </label>
                <p class="text-xs text-neutral-500 ml-6 mt-1">Disabled for wildcard patterns</p>
            </div>

            <!-- Footer -->
            <div class="mt-4 pt-4 border-t border-neutral-200 flex justify-end gap-2">
                <button type="button" class="btn btn-white" data-hs-overlay="#edit-validity-modal">
                    Cancel
                </button>
                <button type="button" id="evm-save-btn" class="btn btn-primary">
                    Save Validity
                </button>
            </div>
        </div>
    </div>
</div>
